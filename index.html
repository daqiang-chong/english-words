<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆäºŒè‹±è¯­æ¯æ—¥å•è¯</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 650px; margin: 0 auto; }
        header { text-align: center; color: white; padding: 20px 0; margin-bottom: 20px; }
        header h1 { font-size: 1.8em; margin-bottom: 5px; }
        header .subtitle { opacity: 0.85; font-size: 0.95em; }
        header .date-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 0.9em;
        }
        .progress-wrap {
            background: white;
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #666;
            margin-bottom: 8px;
        }
        .progress-bar { height: 10px; background: #eee; border-radius: 10px; overflow: hidden; }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        .tabs {
            display: flex;
            background: white;
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .tab-btn {
            flex: 1; padding: 10px; border: none;
            background: transparent; border-radius: 8px;
            cursor: pointer; font-size: 0.95em;
            transition: all 0.3s; color: #666;
        }
        .tab-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; font-weight: bold;
        }
        .word-card {
            background: white; border-radius: 12px;
            padding: 15px 20px; margin-bottom: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
            display: flex; align-items: center; gap: 15px;
            transition: transform 0.2s;
        }
        .word-card:hover { transform: translateX(5px); }
        .word-num { font-size: 0.8em; color: #aaa; width: 24px; text-align: center; flex-shrink: 0; }
        .word-en { font-size: 1.15em; font-weight: bold; color: #667eea; }
        .word-ph { font-size: 0.8em; color: #999; margin-top: 2px; }
        .word-cn { margin-left: auto; color: #444; font-size: 0.95em; text-align: right; }
        .word-pos { font-size: 0.75em; color: #aaa; margin-top: 2px; }
        #quiz-section { display: none; }
        .quiz-header {
            text-align: center; background: white;
            border-radius: 12px; padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
            font-size: 0.9em; color: #666;
        }
        .quiz-score { color: #667eea; font-weight: bold; font-size: 1.1em; }
        .quiz-card {
            background: white; border-radius: 15px;
            padding: 30px 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-align: center;
        }
        .quiz-question-label { font-size: 0.85em; color: #aaa; margin-bottom: 10px; }
        .quiz-word { font-size: 2.2em; font-weight: bold; color: #333; margin-bottom: 8px; }
        .quiz-phonetic { color: #999; font-size: 0.95em; margin-bottom: 25px; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .option-btn {
            padding: 14px 10px; border: 2px solid #eee;
            border-radius: 10px; background: white;
            cursor: pointer; font-size: 0.95em;
            transition: all 0.2s; color: #333;
        }
        .option-btn:hover:not(:disabled) { border-color: #667eea; background: #f0f3ff; }
        .option-btn.correct { background: #d4edda; border-color: #28a745; color: #155724; }
        .option-btn.wrong { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        .option-btn:disabled { cursor: default; }
        .quiz-feedback {
            margin-top: 20px; padding: 10px;
            border-radius: 8px; font-weight: bold; min-height: 40px;
        }
        .quiz-feedback.correct { background: #d4edda; color: #155724; }
        .quiz-feedback.wrong { background: #f8d7da; color: #721c24; }
        .next-btn {
            margin-top: 15px; padding: 12px 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; border: none; border-radius: 25px;
            cursor: pointer; font-size: 1em; display: none;
        }
        .result-card {
            background: white; border-radius: 15px;
            padding: 40px 25px; text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .result-emoji { font-size: 4em; margin-bottom: 15px; }
        .result-title { font-size: 1.5em; font-weight: bold; color: #333; margin-bottom: 10px; }
        .result-score { font-size: 1.1em; color: #666; margin-bottom: 25px; }
        .result-score span { color: #667eea; font-weight: bold; font-size: 1.3em; }
        .restart-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; border: none; border-radius: 25px;
            cursor: pointer; font-size: 1em;
        }
        @media (max-width: 480px) {
            header h1 { font-size: 1.4em; }
            .options { grid-template-columns: 1fr; }
            .quiz-word { font-size: 1.8em; }
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1>ğŸ“š åˆäºŒè‹±è¯­æ¯æ—¥å•è¯</h1>
        <div class="subtitle">æ¯å¤©20ä¸ªå•è¯ï¼ŒåšæŒå°±æ˜¯èƒœåˆ©ï¼</div>
        <div class="date-badge" id="dateBadge">--</div>
    </header>
    <div class="progress-wrap">
        <div class="progress-label">
            <span>ğŸ“… ä»Šæ—¥å­¦ä¹ è¿›åº¦</span>
            <span id="progressText">0 / 20</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width:0%"></div>
        </div>
    </div>
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('learn')">ğŸ“– èƒŒå•è¯</button>
        <button class="tab-btn" onclick="switchTab('quiz')">âœï¸ æµ‹ä¸€æµ‹</button>
    </div>
    <div id="learn-section"></div>
    <div id="quiz-section">
        <div class="quiz-header">
            ç¬¬ <span id="quizCurrent">-</span> / <span id="quizTotal">20</span> é¢˜ &nbsp;|&nbsp;
            å¾—åˆ†ï¼š<span class="quiz-score" id="quizScore">0</span>
        </div>
        <div id="quiz-content"></div>
    </div>
</div>
<script>
const wordBank = [
    {en:"robot",ph:"/ËˆrÉ™ÊŠbÉ’t/",pos:"n.",cn:"æœºå™¨äºº"},
    {en:"future",ph:"/ËˆfjuËtÊƒÉ™r/",pos:"n.",cn:"å°†æ¥ï¼›æœªæ¥"},
    {en:"pollution",ph:"/pÉ™ËˆluËÊƒn/",pos:"n.",cn:"æ±¡æŸ“ï¼›æ±¡æŸ“ç‰©"},
    {en:"environment",ph:"/ÉªnËˆvaÉªrÉ™nmÉ™nt/",pos:"n.",cn:"è‡ªç„¶ç¯å¢ƒ"},
    {en:"astronaut",ph:"/ËˆÃ¦strÉ™nÉ”Ët/",pos:"n.",cn:"å®‡èˆªå‘˜"},
    {en:"space",ph:"/speÉªs/",pos:"n.",cn:"å¤ªç©ºï¼›ç©ºé—´"},
    {en:"probably",ph:"/ËˆprÉ’bÉ™bli/",pos:"adv.",cn:"å¤§æ¦‚ï¼›æˆ–è®¸"},
    {en:"dangerous",ph:"/ËˆdeÉªndÊ’É™rÉ™s/",pos:"adj.",cn:"å±é™©çš„"},
    {en:"seem",ph:"/siËm/",pos:"v.",cn:"å¥½åƒï¼›ä¼¼ä¹"},
    {en:"activity",ph:"/Ã¦kËˆtÉªvÉ™ti/",pos:"n.",cn:"æ´»åŠ¨"},
    {en:"decide",ph:"/dÉªËˆsaÉªd/",pos:"v.",cn:"å†³å®šï¼›é€‰å®š"},
    {en:"enough",ph:"/ÉªËˆnÊŒf/",pos:"adj.",cn:"å……è¶³çš„ï¼›è¶³å¤Ÿçš„"},
    {en:"ocean",ph:"/ËˆÉ™ÊŠÊƒn/",pos:"n.",cn:"æµ·æ´‹ï¼›å¤§æµ·"},
    {en:"encourage",ph:"/ÉªnËˆkÉœËrÉªdÊ’/",pos:"v.",cn:"é¼“åŠ±ï¼›æ”¯æŒ"},
    {en:"important",ph:"/ÉªmËˆpÉ”ËrtÉ™nt/",pos:"adj.",cn:"é‡è¦çš„ï¼›é‡å¤§çš„"},
    {en:"invention",ph:"/ÉªnËˆvenÊƒn/",pos:"n.",cn:"å‘æ˜ï¼›åˆ›é€ "},
    {en:"although",ph:"/É”ËlËˆÃ°É™ÊŠ/",pos:"conj.",cn:"è™½ç„¶ï¼›å°½ç®¡"},
    {en:"however",ph:"/haÊŠËˆevÉ™r/",pos:"adv.",cn:"ç„¶è€Œï¼›ä¸è¿‡"},
    {en:"lifestyle",ph:"/ËˆlaÉªfstaÉªl/",pos:"n.",cn:"ç”Ÿæ´»æ–¹å¼"},
    {en:"habit",ph:"/ËˆhÃ¦bÉªt/",pos:"n.",cn:"ä¹ æƒ¯ï¼›ä¹ æ€§"},
    {en:"percent",ph:"/pÉ™rËˆsent/",pos:"n.",cn:"ç™¾åˆ†ä¹‹..."},
    {en:"opportunity",ph:"/ËŒÉ’pÉ™ËˆtjuËnÉ™ti/",pos:"n.",cn:"æœºä¼šï¼›æ—¶æœº"},
    {en:"population",ph:"/ËŒpÉ’pjuËˆleÉªÊƒn/",pos:"n.",cn:"äººå£ï¼›å…¨ä½“å±…æ°‘"},
    {en:"century",ph:"/ËˆsentÊƒÉ™ri/",pos:"n.",cn:"ä¸–çºªï¼›ç™¾å¹´"},
    {en:"express",ph:"/ÉªkËˆspres/",pos:"v.",cn:"è¡¨è¾¾ï¼›è¡¨ç¤º"},
    {en:"communicate",ph:"/kÉ™ËˆmjuËnÉªkeÉªt/",pos:"v.",cn:"äº¤æµï¼›æ²Ÿé€š"},
    {en:"translate",ph:"/trÃ¦nsËˆleÉªt/",pos:"v.",cn:"ç¿»è¯‘ï¼›è½¬åŒ–"},
    {en:"create",ph:"/kriËˆeÉªt/",pos:"v.",cn:"åˆ›é€ ï¼›åˆ›ä½œ"},
    {en:"discover",ph:"/dÉªËˆskÊŒvÉ™r/",pos:"v.",cn:"å‘ç°ï¼›æ‰¾åˆ°"},
    {en:"technology",ph:"/tekËˆnÉ’lÉ™dÊ’i/",pos:"n.",cn:"æŠ€æœ¯ï¼›å·¥è‰º"},
    {en:"increase",ph:"/ÉªnËˆkriËs/",pos:"v.",cn:"å¢åŠ ï¼›å¢å¤§"},
    {en:"improve",ph:"/ÉªmËˆpruËv/",pos:"v.",cn:"æ”¹å–„ï¼›æé«˜"},
    {en:"protect",ph:"/prÉ™Ëˆtekt/",pos:"v.",cn:"ä¿æŠ¤ï¼›é˜²æŠ¤"},
    {en:"achieve",ph:"/É™ËˆtÊƒiËv/",pos:"v.",cn:"å®ç°ï¼›è¾¾åˆ°"},
    {en:"consider",ph:"/kÉ™nËˆsÉªdÉ™r/",pos:"v.",cn:"è€ƒè™‘ï¼›è®¤ä¸º"},
    {en:"provide",ph:"/prÉ™ËˆvaÉªd/",pos:"v.",cn:"æä¾›ï¼›ä¾›ç»™"},
    {en:"support",ph:"/sÉ™ËˆpÉ”Ërt/",pos:"v.",cn:"æ”¯æŒï¼›æ”¯æ’‘"},
    {en:"include",ph:"/ÉªnËˆkluËd/",pos:"v.",cn:"åŒ…æ‹¬ï¼›åŒ…å«"},
    {en:"receive",ph:"/rÉªËˆsiËv/",pos:"v.",cn:"æ”¶åˆ°ï¼›æ¥å—"},
    {en:"energy",ph:"/ËˆenÉ™dÊ’i/",pos:"n.",cn:"èƒ½é‡ï¼›ç²¾åŠ›"},
    {en:"culture",ph:"/ËˆkÊŒltÊƒÉ™r/",pos:"n.",cn:"æ–‡åŒ–ï¼›æ–‡æ˜"},
    {en:"tradition",ph:"/trÉ™ËˆdÉªÊƒn/",pos:"n.",cn:"ä¼ ç»Ÿï¼›æƒ¯ä¾‹"},
    {en:"memory",ph:"/ËˆmemÉ™ri/",pos:"n.",cn:"è®°å¿†ï¼›è®°å¿†åŠ›"},
    {en:"language",ph:"/ËˆlÃ¦Å‹É¡wÉªdÊ’/",pos:"n.",cn:"è¯­è¨€ï¼›è¯­è¨€èƒ½åŠ›"},
    {en:"knowledge",ph:"/ËˆnÉ’lÉªdÊ’/",pos:"n.",cn:"çŸ¥è¯†ï¼›äº†è§£"},
    {en:"experience",ph:"/ÉªkËˆspÉªÉ™riÉ™ns/",pos:"n.",cn:"ç»å†ï¼›ç»éªŒ"},
    {en:"challenge",ph:"/ËˆtÊƒÃ¦lÉªndÊ’/",pos:"n.",cn:"æŒ‘æˆ˜ï¼›è‰°å·¨ä»»åŠ¡"},
    {en:"success",ph:"/sÉ™kËˆses/",pos:"n.",cn:"æˆåŠŸï¼›æˆå°±"},
    {en:"influence",ph:"/ËˆÉªnfluÉ™ns/",pos:"n.",cn:"å½±å“ï¼›ä½œç”¨"},
    {en:"courage",ph:"/ËˆkÊŒrÉªdÊ’/",pos:"n.",cn:"å‹‡æ°”ï¼›èƒ†é‡"},
    {en:"respect",ph:"/rÉªËˆspekt/",pos:"v.",cn:"å°Šé‡ï¼›å°Šæ•¬"},
    {en:"allow",ph:"/É™ËˆlaÊŠ/",pos:"v.",cn:"å…è®¸ï¼›å‡†è®¸"},
    {en:"attend",ph:"/É™Ëˆtend/",pos:"v.",cn:"å‡ºå¸­ï¼›å‚åŠ "},
    {en:"prepare",ph:"/prÉªËˆpeÉ™r/",pos:"v.",cn:"å‡†å¤‡ï¼›é¢„å¤‡"},
    {en:"describe",ph:"/dÉªËˆskraÉªb/",pos:"v.",cn:"æè¿°ï¼›å½¢å®¹"},
    {en:"suggest",ph:"/sÉ™ËˆdÊ’est/",pos:"v.",cn:"å»ºè®®ï¼›æš—ç¤º"},
    {en:"explain",ph:"/ÉªkËˆspleÉªn/",pos:"v.",cn:"è§£é‡Šï¼›è¯´æ˜"},
    {en:"develop",ph:"/dÉªËˆvelÉ™p/",pos:"v.",cn:"å‘å±•ï¼›å¼€å‘"},
    {en:"accept",ph:"/É™kËˆsept/",pos:"v.",cn:"æ¥å—ï¼›è®¤å¯"},
    {en:"volunteer",ph:"/ËŒvÉ’lÉ™nËˆtÉªÉ™r/",pos:"n.",cn:"å¿—æ„¿è€…"},
    {en:"interview",ph:"/ËˆÉªntÉ™vjuË/",pos:"n.",cn:"é‡‡è®¿ï¼›é¢è¯•"},
    {en:"government",ph:"/ËˆÉ¡ÊŒvÉ™nmÉ™nt/",pos:"n.",cn:"æ”¿åºœï¼›æ”¿ä½“"},
    {en:"competition",ph:"/ËŒkÉ’mpÉ™ËˆtÉªÊƒn/",pos:"n.",cn:"ç«äº‰ï¼›æ¯”èµ›"},
    {en:"imagination",ph:"/ÉªËŒmÃ¦dÊ’ÉªËˆneÉªÊƒn/",pos:"n.",cn:"æƒ³è±¡ï¼›æƒ³è±¡åŠ›"},
    {en:"conversation",ph:"/ËŒkÉ’nvÉ™ËˆseÉªÊƒn/",pos:"n.",cn:"äº¤è°ˆï¼›ä¼šè¯"},
    {en:"information",ph:"/ËŒÉªnfÉ™ËˆmeÉªÊƒn/",pos:"n.",cn:"ä¿¡æ¯ï¼›æ¶ˆæ¯"},
    {en:"surprised",ph:"/sÉ™ËˆpraÉªzd/",pos:"adj.",cn:"æ„Ÿåˆ°åƒæƒŠçš„"},
    {en:"excited",ph:"/ÉªkËˆsaÉªtÉªd/",pos:"adj.",cn:"æ¿€åŠ¨çš„ï¼›å…´å¥‹çš„"},
    {en:"confident",ph:"/ËˆkÉ’nfÉªdÉ™nt/",pos:"adj.",cn:"è‡ªä¿¡çš„ï¼›ç¡®ä¿¡çš„"},
    {en:"excellent",ph:"/ËˆeksÉ™lÉ™nt/",pos:"adj.",cn:"ä¼˜ç§€çš„ï¼›æ°å‡ºçš„"},
    {en:"creative",ph:"/kriËˆeÉªtÉªv/",pos:"adj.",cn:"æœ‰åˆ›é€ åŠ›çš„"},
    {en:"patient",ph:"/ËˆpeÉªÊƒnt/",pos:"adj.",cn:"æœ‰è€å¿ƒçš„ï¼›å¿è€çš„"},
    {en:"friendly",ph:"/Ëˆfrendli/",pos:"adj.",cn:"å‹å¥½çš„ï¼›å’Œè”¼çš„"},
    {en:"honest",ph:"/ËˆÉ’nÉªst/",pos:"adj.",cn:"è¯šå®çš„ï¼›å¦ç‡çš„"},
    {en:"polite",ph:"/pÉ™ËˆlaÉªt/",pos:"adj.",cn:"ç¤¼è²Œçš„ï¼›æœ‰ç¤¼è²Œçš„"},
    {en:"nervous",ph:"/ËˆnÉœËrvÉ™s/",pos:"adj.",cn:"ç´§å¼ çš„ï¼›ç„¦è™‘çš„"},
    {en:"medicine",ph:"/Ëˆmedsn/",pos:"n.",cn:"è¯ï¼›åŒ»å­¦"},
    {en:"exercise",ph:"/ËˆeksÉ™saÉªz/",pos:"n.",cn:"é”»ç‚¼ï¼›è¿åŠ¨"},
    {en:"competition",ph:"/ËŒkÉ’mpÉ™ËˆtÉªÊƒn/",pos:"n.",cn:"ç«èµ›ï¼›æ¯”èµ›"},
    {en:"smartphone",ph:"/ËˆsmÉ‘ËtfÉ™ÊŠn/",pos:"n.",cn:"æ™ºèƒ½æ‰‹æœº"},
    {en:"internet",ph:"/ËˆÉªntÉ™net/",pos:"n.",cn:"äº’è”ç½‘"},
    {en:"website",ph:"/ËˆwebsaÉªt/",pos:"n.",cn:"ç½‘ç«™"},
    {en:"download",ph:"/ËˆdaÊŠnlÉ™ÊŠd/",pos:"v.",cn:"ä¸‹è½½"},
    {en:"upload",ph:"/ËˆÊŒplÉ™ÊŠd/",pos:"v.",cn:"ä¸Šä¼ "},
    {en:"password",ph:"/ËˆpÉ‘ËswÉœËd/",pos:"n.",cn:"å¯†ç "},
    {en:"keyboard",ph:"/ËˆkiËbÉ”Ëd/",pos:"n.",cn:"é”®ç›˜"},
    {en:"message",ph:"/ËˆmesÉªdÊ’/",pos:"n.",cn:"ä¿¡æ¯ï¼›æ¶ˆæ¯"},
    {en:"photograph",ph:"/ËˆfÉ™ÊŠtÉ™É¡rÉ‘Ëf/",pos:"n.",cn:"ç…§ç‰‡"},
    {en:"museum",ph:"/mjuËˆziËÉ™m/",pos:"n.",cn:"åšç‰©é¦†"},
    {en:"history",ph:"/ËˆhÉªstri/",pos:"n.",cn:"å†å²"},
    {en:"geography",ph:"/dÊ’iËˆÉ’É¡rÉ™fi/",pos:"n.",cn:"åœ°ç†"},
    {en:"biology",ph:"/baÉªËˆÉ’lÉ™dÊ’i/",pos:"n.",cn:"ç”Ÿç‰©å­¦"},
    {en:"chemistry",ph:"/ËˆkemÉªstri/",pos:"n.",cn:"åŒ–å­¦"},
    {en:"physics",ph:"/ËˆfÉªzÉªks/",pos:"n.",cn:"ç‰©ç†å­¦"},
    {en:"mathematics",ph:"/ËŒmÃ¦Î¸É™ËˆmÃ¦tÉªks/",pos:"n.",cn:"æ•°å­¦"},
    {en:"literature",ph:"/ËˆlÉªtrÉ™tÊƒÉ™r/",pos:"n.",cn:"æ–‡å­¦"},
    {en:"experiment",ph:"/ÉªkËˆsperÉªmÉ™nt/",pos:"n.",cn:"å®éªŒ"},
    {en:"research",ph:"/rÉªËˆsÉœËtÊƒ/",pos:"n.",cn:"ç ”ç©¶ï¼›è°ƒæŸ¥"},
    {en:"project",ph:"/ËˆprÉ’dÊ’ekt/",pos:"n.",cn:"é¡¹ç›®ï¼›å·¥ç¨‹"},
    {en:"schedule",ph:"/ËˆÊƒedjuËl/",pos:"n.",cn:"æ—¶é—´è¡¨ï¼›è®¡åˆ’è¡¨"},
    {en:"practice",ph:"/ËˆprÃ¦ktÉªs/",pos:"v.",cn:"ç»ƒä¹ ï¼›å®è·µ"},
    {en:"review",ph:"/rÉªËˆvjuË/",pos:"v.",cn:"å¤ä¹ ï¼›å›é¡¾"},
    {en:"concentrate",ph:"/ËˆkÉ’nsntreÉªt/",pos:"v.",cn:"é›†ä¸­æ³¨æ„åŠ›"},
    {en:"understand",ph:"/ËŒÊŒndÉ™ËˆstÃ¦nd/",pos:"v.",cn:"ç†è§£ï¼›æ˜ç™½"},
    {en:"remember",ph:"/rÉªËˆmembÉ™r/",pos:"v.",cn:"è®°ä½ï¼›è®°å¾—"},
    {en:"forget",ph:"/fÉ™ËˆÉ¡et/",pos:"v.",cn:"å¿˜è®°ï¼›é—å¿˜"},
    {en:"repeat",ph:"/rÉªËˆpiËt/",pos:"v.",cn:"é‡å¤ï¼›é‡è¯´"},
    {en:"pronounce",ph:"/prÉ™ËˆnaÊŠns/",pos:"v.",cn:"å‘éŸ³ï¼›å®£å¸ƒ"},
    {en:"spelling",ph:"/ËˆspelÉªÅ‹/",pos:"n.",cn:"æ‹¼å†™ï¼›æ‹¼æ³•"},
    {en:"grammar",ph:"/ËˆÉ¡rÃ¦mÉ™r/",pos:"n.",cn:"è¯­æ³•ï¼›æ–‡æ³•"},
    {en:"vocabulary",ph:"/vÉ™ËˆkÃ¦bjÉ™lÉ™ri/",pos:"n.",cn:"è¯æ±‡ï¼›è¯æ±‡é‡"},
    {en:"sentence",ph:"/ËˆsentÉ™ns/",pos:"n.",cn:"å¥å­ï¼›å¥"},
    {en:"paragraph",ph:"/ËˆpÃ¦rÉ™É¡rÉ‘Ëf/",pos:"n.",cn:"æ®µè½"},
    {en:"sunshine",ph:"/ËˆsÊŒnÊƒaÉªn/",pos:"n.",cn:"é˜³å…‰ï¼›æ—¥ç…§"},
    {en:"rainbow",ph:"/ËˆreÉªnbÉ™ÊŠ/",pos:"n.",cn:"å½©è™¹"},
    {en:"thunderstorm",ph:"/ËˆÎ¸ÊŒndÉ™stÉ”Ëm/",pos:"n.",cn:"é›·é›¨ï¼›é›·æš´"},
    {en:"temperature",ph:"/ËˆtemprÉ™tÊƒÉ™r/",pos:"n.",cn:"æ¸©åº¦ï¼›æ°”æ¸©"},
    {en:"climate",ph:"/ËˆklaÉªmÉ™t/",pos:"n.",cn:"æ°”å€™ï¼›é£æ°”"},
    {en:"natural",ph:"/ËˆnÃ¦tÊƒrÉ™l/",pos:"adj.",cn:"è‡ªç„¶çš„ï¼›å¤©ç„¶çš„"}
];

const WORDS_PER_DAY = 20;

function getTodaysWords() {
    const start = new Date("2024-09-01");
    const today = new Date();
    const diffDays = Math.floor((today - start) / (1000 * 60 * 60 * 24));
    const startIndex = (diffDays * WORDS_PER_DAY) % wordBank.length;
    const result = [];
    for (let i = 0; i < WORDS_PER_DAY; i++) {
        result.push(wordBank[(startIndex + i) % wordBank.length]);
    }
    return result;
}

const todaysWords = getTodaysWords();

function formatDate(d) {
    const week = ["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];
    return `${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ Â· æ˜ŸæœŸ${week[d.getDay()]}`;
}

document.getElementById("dateBadge").textContent = "ğŸ“… " + formatDate(new Date());

function renderLearnSection() {
    const section = document.getElementById("learn-section");
    section.innerHTML = todaysWords.map((w, i) => `
        <div class="word-card">
            <div class="word-num">${i + 1}</div>
            <div>
                <div class="word-en">${w.en}</div>
                <div class="word-ph">${w.ph}</div>
            </div>
            <div class="word-cn">
                <div>${w.cn}</div>
                <div class="word-pos">${w.pos}</div>
            </div>
        </div>
    `).join("");
    document.getElementById("progressText").textContent = `${WORDS_PER_DAY} / ${WORDS_PER_DAY}`;
    document.getElementById("progressFill").style.width = "100%";
}

function switchTab(tab) {
    const btns = document.querySelectorAll(".tab-btn");
    btns.forEach((b, i) => b.classList.toggle("active", (i === 0) === (tab === "learn")));
    document.getElementById("learn-section").style.display = tab === "learn" ? "block" : "none";
    document.getElementById("quiz-section").style.display  = tab === "quiz"  ? "block" : "none";
    if (tab === "quiz") initQuiz();
}

let quizIndex = 0, quizScore = 0, quizWords = [], answered = false;

function shuffle(arr) { return [...arr].sort(() => Math.random() - 0.5); }

function initQuiz() {
    quizWords = shuffle(todaysWords);
    quizIndex = 0; quizScore = 0; answered = false;
    document.getElementById("quizScore").textContent = "0";
    document.getElementById("quizTotal").textContent = WORDS_PER_DAY;
    renderQuizQuestion();
}

function renderQuizQuestion() {
    if (quizIndex >= quizWords.length) { renderResult(); return; }
    const current = quizWords[quizIndex];
    document.getElementById("quizCurrent").textContent = quizIndex + 1;
    answered = false;
    const distractors = shuffle(todaysWords.filter(w => w.en !== current.en)).slice(0, 3);
    const options = shuffle([current, ...distractors]);
    document.getElementById("quiz-content").innerHTML = `
        <div class="quiz-card">
            <div class="quiz-question-label">è¿™ä¸ªå•è¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</div>
            <div class="quiz-word">${current.en}</div>
            <div class="quiz-phonetic">${current.ph}</div>
            <div class="options">
                ${options.map(opt => `
                    <button class="option-btn"
                        onclick="checkAnswer(this,'${opt.cn.replace(/'/g,"\\'")}','${current.cn.replace(/'/g,"\\'")}')">
                        ${opt.cn}
                    </button>
                `).join("")}
            </div>
            <div class="quiz-feedback" id="quizFeedback"></div>
            <button class="next-btn" id="nextBtn" onclick="nextQuestion()">
                ${quizIndex + 1 < quizWords.length ? "ä¸‹ä¸€é¢˜ â†’" : "æŸ¥çœ‹ç»“æœ ğŸ‰"}
            </button>
        </div>
    `;
}

function checkAnswer(btn, selected, correct) {
    if (answered) return;
    answered = true;
    document.querySelectorAll(".option-btn").forEach(b => {
        b.disabled = true;
        if (b.textContent.trim() === correct) b.classList.add("correct");
    });
    const feedback = document.getElementById("quizFeedback");
    if (selected === correct) {
        btn.classList.add("correct");
        quizScore++;
        document.getElementById("quizScore").textContent = quizScore;
        feedback.textContent = "âœ… å›ç­”æ­£ç¡®ï¼å¤ªæ£’äº†ï¼";
        feedback.className = "quiz-feedback correct";
    } else {
        btn.classList.add("wrong");
        feedback.textContent = `âŒ ç­”é”™äº†ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correct}`;
        feedback.className = "quiz-feedback wrong";
    }
    document.getElementById("nextBtn").style.display = "block";
}

function nextQuestion() { quizIndex++; renderQuizQuestion(); }

function renderResult() {
    const rate = Math.round((quizScore / quizWords.length) * 100);
    let emoji = "ğŸ˜¢", msg = "è¦åŠ æ²¹å“¦ï¼";
    if (rate >= 90) { emoji = "ğŸ†"; msg = "å¤ªå‰å®³äº†ï¼"; }
    else if (rate >= 70) { emoji = "ğŸ˜Š"; msg = "ä¸é”™ï¼Œç»§ç»­åŠªåŠ›ï¼"; }
    else if (rate >= 50) { emoji = "ğŸ¤”"; msg = "è¿˜éœ€è¦å¤šèƒŒå‡ éï¼"; }
    document.getElementById("quiz-content").innerHTML = `
        <div class="result-card">
            <div class="result-emoji">${emoji}</div>
            <div class="result-title">${msg}</div>
            <div class="result-score">ä»Šæ—¥å¾—åˆ†ï¼š<span>${quizScore} / ${quizWords.length}</span>ï¼ˆ${rate}åˆ†ï¼‰</div>
            <button class="restart-btn" onclick="initQuiz()">ğŸ”„ é‡æ–°æµ‹éªŒ</button>
        </div>
    `;
}

renderLearnSection();
</script>
</body>
</html>
